@model LMS_Learning_Management_System.Models.VLessonCardsSubject

@{
    ViewData["Title"] = "عرض الدروس";
}

<style>


    .panel {
        height: 270px;
        width: 190px;
        position: relative;
        margin: 0 0 0 2%;
    }

        .panel:hover .card {
            filter: blur(1.5px);
        }

        .panel:hover .card1 {
            background-size: 215% 135%;
        }

        .panel:hover .card2 {
            background-size: 115% 115%;
        }

        .panel:hover .card3 {
            background-size: 155% 115%;
        }

        .panel:hover .title {
            color: rgba(255, 255, 255, 0.2);
        }



        .panel:hover .slide {
            bottom: 0px;
        }

    /* .panel:hover .ring:before,
        .panel:hover .ring:after {
            transform: translateX(-50%) translateY(-50%) rotate(310deg);
        }*/

    .ring,
    .card,
    .border,
    .slide,
    .line {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .ring {
        color: #fffbf1;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translateX(-50%) translateY(-50%);
        font-size: 170px;
    }

    .card {
        background: #f0ead6;
        position: relative;
        transition: all 1s;
        height: 270px;
        width: 190px;
        border: 1px solid white;
    }

    .card1 {
        background-image: url("../Images/1662031872916075092-13382.jpg");
        background-repeat: no-repeat;
        background-size: 100% 100%;
    }

    .card2 {
        background-image: url("https://assets.codepen.io/489403/belize.jpg");
        background-repeat: no-repeat;
        background-size: 100% 100%;
    }

    .card3 {
        background-image: url("https://assets.codepen.io/489403/egypt.jpg");
        background-repeat: no-repeat;
        background-size: 140% 100%;
    }

    .ring:before,
    .ring:after {
        content: "";
        padding: 0.7em 0.4em;
        position: absolute;
        left: 50%;
        width: 115%;
        top: 50%;
        display: block;
        /*border: 5px solid #50c9c3;*/
        border-radius: 50%;
        transition: transform 1s;
        transform: translateX(-50%) translateY(-50%) rotate(50deg);
    }

    .ring:before {
        border-color: #ebebeb #ebebeb rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);
        z-index: -1;
    }

    .ring:after {
        border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #ebebeb #ebebeb;
    }

    p {
        text-align: center;
        position: absolute;
        font-family: "Playfair Display";
    }

    .title {
        font-size: 36px;
        font-weight: 700;
        transition: all 1s;
        top: 90px;
        color: black;
        backdrop-filter: blur(17px);
    }

    .para {
        bottom: 0;
        font-size: 16px;
        font-family: "Raleway";
        padding: 20px;
        margin: 0;
        text-align: center;
    }

    .border {
        position: absolute;
        border: 1px solid rgba(255, 255, 255, 0.5);
        height: 260px;
        width: 180px;
        transition: border 1s;
        overflow: hidden;
    }

    .slide {
        height: 260px;
        width: 180px;
        position: absolute;
        border: 1px solid black;
        bottom: -270px;
        background: rgba(0, 0, 0, 0.5);
        transition: bottom 1s;
        flex-direction: column;
    }

    .fa-plane {
        font-size: 16px;
    }

    .D1 {
        display: flex
    }

    @@media (min-width: 768px) and (max-width: 1000px) {
        .D1 {
            display: flex
        }
    }

    @@media (min-width: 1001px) and (max-width: 1199px) {
        .D1 {
            display: flex
        }
    }

    @@media (min-width: 100px) and (max-width: 767px) {
        .D1 {
            display: inline-grid;
            place-items: center;
        }

        .panel {
            height: 270px;
            width: 190px;
            position: relative;
            margin: 0 0 7% 0;
        }
    }
</style>

<div class="row">
   <div></div>
    <div class="col-12">
        <div class="row">
            <h2>برنامج منصة دربك</h2>
            <div>

                <button class="btn btn-primary" onclick="showDownloadAlert()">تحميل التطبيق</button>

            </div>
        </div>
        @if (Model.VLessonCardsSubject_Collection.Count() > 0)
        {
            <div class="container D1">
                @foreach (var item in Model.VLessonCardsSubject_Collection)
                {
                    <div class="panel">

                        <div class="ring">
                            <div class="card card1"></div>
                            <div class="border">
                                <p class="title">@item.Description</p>
                                <div class="slide">
                                    <h6 class="para">@item.Name</h6>
                                    @foreach (var item2 in Model.TeacherInfo_Collection.Select(r => new { r.FullName, r.Id }).Where(r => r.Id == item.TeacherId).Distinct())
                                    {
                                        <div class="line">
                                            <h6 class="para">@item2.FullName</h6>

                                        </div>
                                    }
                                    <div class="line">
                                        <h6 class="para">يرجى الانتقال الى تطبيق المنصة لمشاهدة الدروس</h6>
                                    </div>

                                    <!--<div class="line">
                                        <h6 class="para">@DateTime.Parse(item.CreatedDate.ToString()).ToString("dd-MM-yyyy")</h6> <i class="" aria-hidden="true"></i>-->
                                        @*<h6 class="para">@item2.FullName</h6>*@
                                    <!--</div>-->
                                </div>
                            </div>

                        </div>


                    </div>
                }
            </div>
        }

        else
        {
            <div class="container" style="text-align: -webkit-center; vertical-align: middle; align-items: center; align-content: center; display: grid;">
                <h4>لا يوجد دروس مسجلة حاليا</h4>
            </div>
        }
    </div>
</div>

<!-- JavaScript code for SweetAlert -->
<script>
    function showDownloadAlert() {
        Swal.fire({
            title: 'تحميل التطبيق',
            text: 'يُرجى تحميل التطبيق لمشاهدة الدروس',
            icon: 'info',
            showCancelButton: true,
            confirmButtonText: 'تحميل الآن',
            cancelButtonText: 'لاحقًا',
        }).then((result) => {
            if (result.isConfirmed) {
                // Add the download link or redirect to the app store
                // You can customize this based on your app download location
                window.location.href = '/Academy/App_exe/DarbakJo.exe';
            }
        });
    }
</script>
